INPUT "Hauteur";h&
INPUT "Offset";o&
'
OPEN "i",#1,"k:\slide\1"
SEEK #1,4
BGET #1,XBIOS(2)-32,32
CLOSE #1
~XBIOS(6,L:XBIOS(2)-32)
'
CLS
LINE FALSE,99,319,99
LINE FALSE,ADD(100,h&),319,ADD(100,h&)
'
RESERVE 20000
a%=MALLOC(400000)
IF a%=FALSE
  END
ENDIF
BLOAD "k:\slide\nuages",a%
REPEAT
  VSYNC
  VSYNC
  BMOVE ADD(a%,ADD(MUL(i&,12000),MUL(o&,160))),ADD(XBIOS(2),16000),MUL(h&,160)
  i&=MOD(ADD(i&,1),30)
  IF MOUSEK
    PAUSE 5
  ENDIF
  IF BTST(BIOS(11,TRUE),3)
    LINE 15,0,15,199
    LINE 304,0,304,199
    REPEAT
    UNTIL NOT BTST(BIOS(11,TRUE),3)
  ENDIF
UNTIL INP(-2)
~MFREE(a%)
